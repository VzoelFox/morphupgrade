
ambil_semua "greenfield/absolute_syntax_morph.fox" sebagai AST

dari "greenfield/cotc/unit" ambil_sebagian yakinkan, yakinkan_sama, selesai

kelas TokenPalsu maka
    fungsi inisiasi(val) maka
        ubah ini.nilai = val
    akhir
akhir

fungsi test_node_sebagai_key() maka
    # 1. Buat token palsu
    biar tokA = TokenPalsu("A")
    biar tokB = TokenPalsu("B")

    # 2. Buat node
    biar node1 = AST.Identitas(tokA, nil)
    biar node2 = AST.Identitas(tokB, nil)

    # 3. Buat map
    biar map = {}

    # 4. Masukkan ke map
    ubah map[node1] = "Info A"
    ubah map[node2] = "Info B"

    # 5. Verifikasi
    yakinkan_sama(map[node1], "Info A", "node1 key lookup salah")
    yakinkan_sama(map[node2], "Info B", "node2 key lookup salah")
    yakinkan_sama(panjang(map), 2, "map length bukan 2")

    tulis("SUKSES: Node AST bisa jadi key dictionary.")
akhir

fungsi utama() maka
    test_node_sebagai_key()
akhir
